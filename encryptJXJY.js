var _0x353e=['apiUrl','https://api.qdjxjy.com.cn/zjfore/course/record/edit','getElementsByClassName','append','answer','innerHTML','get','data','querySelectorAll','error','apiToken','Bearer\x20','code','length','div','innerText','forEach','el-radio','red','color','token','style','log','courseId','responseText','map','123123123','media-body\x20well\x20text-warning','parse','stringify','[id^=\x22question\x22]','trim','createElement','msg'];var _0x27cd=function(_0x353e46,_0x27cd75){_0x353e46=_0x353e46-0x0;var _0xf78959=_0x353e[_0x353e46];return _0xf78959;};function getAnswer(){var _0xc9d44d=document[_0x27cd('0x8')](_0x27cd('0x1e'));_0xc9d44d[_0x27cd('0x10')]((_0x219b08,_0xff261b)=>{let _0x962d85=_0x219b08['getElementsByClassName'](_0x27cd('0x1b'));let _0x4daa56=_0x962d85[0x0][_0x27cd('0x5')][_0x27cd('0x1f')]()['slice'](0x0,_0x962d85[0x0][_0x27cd('0x5')][_0x27cd('0xd')]-0x6);const _0x269d22=new URLSearchParams(location['search']);const _0x6fcfaf=_0x269d22[_0x27cd('0x6')]('id');var _0x56ff23=new FormData();_0x56ff23[_0x27cd('0x3')]('question',_0x4daa56);_0x56ff23['append']('courseId',_0x6fcfaf);GM_xmlhttpRequest({'method':'POST','url':defaultConfig[_0x27cd('0x0')]+'/education/answer','timeout':0x1388,'headers':{'Authorization':_0x27cd('0xb')+defaultConfig[_0x27cd('0xa')]},'data':_0x56ff23,'onload':function(_0x3c76ff){var _0x2e084a=JSON[_0x27cd('0x1c')](_0x3c76ff['responseText']);if(_0x2e084a[_0x27cd('0xc')]==0x1f4){console[_0x27cd('0x16')](_0x2e084a[_0x27cd('0x21')]);return;}let _0x2a0fd5=_0x2e084a[_0x27cd('0x7')][0x0][_0x27cd('0x4')];let _0x44174e=_0x27cd('0x11');if(_0x2a0fd5[_0x27cd('0xd')]>0x1)_0x44174e='el-checkbox';let _0x46bfc7=_0x219b08[_0x27cd('0x2')](_0x44174e);let _0x5f4735=_0x219b08['getElementsByClassName'](_0x44174e+'__label');var _0x2f442b=document[_0x27cd('0x20')](_0x27cd('0xe'));_0x2f442b[_0x27cd('0x15')][_0x27cd('0x13')]=_0x27cd('0x12');_0x2f442b['innerHTML']=_0x2a0fd5;_0x962d85[0x0]['append'](_0x2f442b);Array['from'](_0x2a0fd5)[_0x27cd('0x19')](_0x2f66e5=>{Array['from'](_0x5f4735)['map']((_0x47bbe1,_0x14793d)=>{if(_0x2f66e5==_0x47bbe1[_0x27cd('0xf')]){setTimeout(()=>{_0x46bfc7[_0x14793d]['click']();},0x64);}});});},'ontimeout':function(){console[_0x27cd('0x16')]('接口请求超时');},'onerror':function(_0x58f6bd){console[_0x27cd('0x9')](_0x58f6bd);}});});}function getCourseChapters(_0x298700,_0x2ac793){var _0x3c1302={'courseId':_0x298700,'page':0x1,'pageSize':0x3e8,'agencyId':0x0,'districtId':0x0,'industryId':0x0,'userId':_0x2ac793,'pickMode':!![]};var _0x248444=JSON['stringify'](_0x3c1302);GM_xmlhttpRequest({'method':'POST','url':'https://api.qdjxjy.com.cn/zjfore/course/chapter/list','data':_0x248444,'headers':{'Authorization':_0x27cd('0xb')+userInfo[_0x27cd('0x14')]},'onload':function(_0x9a8420){var _0x45b55c=JSON['parse'](_0x9a8420['responseText']);let _0x5189fd=_0x45b55c['chapters']['map'](_0x2430d9=>{return{'id':_0x2430d9['id'],'courseId':_0x2430d9[_0x27cd('0x17')],'name':_0x2430d9['name']};});_0x5189fd[_0x27cd('0x19')](async _0xbee63a=>{await activeChapter(_0xbee63a['id'],_0xbee63a[_0x27cd('0x17')],userInfo['userid']);});},'onerror':function(_0x17ffd7){console['error'](_0x17ffd7);}});}async function activeChapter(_0x10aa14,_0x41fc68,_0x782b7e){var _0x3942b3={'blank':0x78,'agencyId':0x0,'chapterId':_0x10aa14,'courseId':_0x41fc68,'districtId':0x0,'industryId':0x0,'second':0x1,'userid':_0x782b7e};var _0x4d7baa=JSON[_0x27cd('0x1d')](_0x3942b3);GM_xmlhttpRequest({'method':'POST','url':'https://api.qdjxjy.com.cn/zjfore/course/record/add','data':_0x4d7baa,'headers':{'Authorization':_0x27cd('0xb')+userInfo['token']},'onload':function(_0x1672d1){var _0x4b6b86=JSON['parse'](_0x1672d1['responseText']);console['log']('激活章节'+_0x10aa14);watchVideo(_0x10aa14,_0x41fc68,_0x782b7e);},'onerror':function(_0x409571){console['error'](_0x409571);}});await delay(0x3e8);}async function watchVideo(_0x1d39d5,_0x157803,_0x23a5b6){console['log'](_0x27cd('0x1a'));var _0x2f9c62={'blank':0x78,'agencyId':0x0,'chapterId':_0x1d39d5,'courseId':_0x157803,'districtId':0x0,'industryId':0x0,'second':0x1,'userid':_0x23a5b6};var _0x48f833=JSON['stringify'](_0x2f9c62);while(!![]){const _0x144360=await new Promise(_0x2d0d27=>{GM_xmlhttpRequest({'method':'POST','url':_0x27cd('0x1'),'data':_0x48f833,'headers':{'Authorization':'Bearer\x20'+userInfo[_0x27cd('0x14')]},'onload':function(_0x4fa2e1){var _0x22560d=JSON['parse'](_0x4fa2e1[_0x27cd('0x18')]);_0x2d0d27(_0x22560d);},'onerror':function(_0xe1ab9f){console['error'](_0xe1ab9f);}});});var _0x961b7a=parseFloat(_0x144360['courseStatus']['chapterRate']);console[_0x27cd('0x16')](_0x1d39d5,_0x961b7a);if(_0x961b7a==0x1){break;}await delay(0x3e8);}}
